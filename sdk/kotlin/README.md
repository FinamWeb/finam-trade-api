# Finam Trade API Kotlin SDK

Этот репозиторий содержит базовый SDK на языке Kotlin для взаимодействия с публичным Finam Trade API. SDK предоставляет уже скомпилированные модели из `.proto` файлов и базовые примеры для начала работы.

## Обзор

Цель этого SDK - упростить разработку приложений, использующих Finam Trade API, предоставляя готовые к использованию классы данных и примеры аутентификации и выполнения запросов.

## Получение секретного ключа

Для аутентификации в API и запуска тестов вам потребуется секретный ключ. 

1.  Перейдите на портал [Finam Trade API](https://tradeapi.finam.ru/docs/tokens/).
2.  Следуйте инструкциям для создания нового ключа API (secret key).
3.  Скопируйте полученный ключ. Он понадобится вам для запуска тестов.

## Тестирование

В качестве примера предоставляется базовый тест, который демонстрирует основной цикл работы с API: аутентификация и получение данных.

### Тест `GetAccount`

Этот тест выполняет следующие шаги:

1.  **Аутентификация:** Используя предоставленный секретный ключ (`secret`), тест отправляет запрос на эндпоинт `/v1/sessions` для получения JWT-токена.
2.  **Запрос данных:** Полученный токен используется для аутентификации запроса на эндпоинт `/v1/accounts/{account_id}` для получения информации о счете.
3.  **Проверка:** Тест проверяет, что ответ успешен и содержит ожидаемые данные.

### Запуск теста

Для запуска теста вам необходимо передать ваш секретный ключ, созданный ранее, в качестве переменной окружения.

**macOS/Linux:**
```bash
export FINAM_SECRET_KEY="your-secret-key"
./gradlew test --tests "GetAccountTest"
```

**Windows (Command Prompt):**
```cmd
set FINAM_SECRET_KEY="your-secret-key"
gradlew.bat test --tests "GetAccountTest"
```

**Windows (PowerShell):**
```powershell
$env:FINAM_SECRET_KEY="your-secret-key"
./gradlew test --tests "GetAccountTest"
```

Замените `"your-secret-key"` на ваш реальный ключ API.
